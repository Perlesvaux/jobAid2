<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formatting Airline schedule</title>

</head>
<body>

    <div id="AirSegmentFormatter">

        <style>

            .hidden
            {
                width:0; height:0;
            }

        </style>
    

        <div id="sidepanel" style="display: flex; position: absolute; top: 5px; left:70%;">
            <div style="display:flex; flex-direction: column;">
                <button id="formatFlight">üçû</button>
                <button id="closeSidePanel">‚ùå</button>
            </div>
            <textarea id="formattingFlight" placeholder="UA0123 11SEP MCOJFK 2359 0159" style="background-color:#8cdddd; width: 310px; height: 180px;"></textarea>
            
        </div>

        <script>

            function translate(xiv){ //str in 24hr format 2359

                xiv2xii = 
                {
                    "00":"12am",
                    "01":"01am",
                    "02":"02am",
                    "03":"03am",
                    "04":"04am",
                    "05":"05am",
                    "06":"06am",
                    "07":"07am",
                    "08":"08am",
                    "09":"09am",
                    "10":"10am",
                    "11":"11am",
                    "12":"12pm",
                    "13":"01pm",
                    "14":"02pm",
                    "15":"03pm",
                    "16":"04pm",
                    "17":"05pm",
                    "18":"06pm",
                    "19":"07pm",
                    "20":"08pm",
                    "21":"09pm",
                    "22":"10pm",
                    "23":"11pm",

                    // "00":"12",
                    // "01":"1",
                    // "02":"2",
                    // "03":"3",
                    // "04":"4",
                    // "05":"5",
                    // "06":"6",
                    // "07":"7",
                    // "08":"8",
                    // "09":"9",
                    // "10":"10",
                    // "11":"11",
                    // "12":"12",
                    // "13":"1",
                    // "14":"2",
                    // "15":"3",
                    // "16":"4",
                    // "17":"5",
                    // "18":"6",
                    // "19":"7",
                    // "20":"8",
                    // "21":"9",
                    // "22":"10",
                    // "23":"11",
                }

                let newString = ""
                let finalString = ""

                if (xiv2xii[xiv.slice(0,2)])
                {
                    newString = xiv2xii[xiv.slice(0,2)]
                    finalString = `${newString.slice(0,2)}:${xiv.slice(-2)}${newString.slice(-2)}`
                    return finalString   
                }
            }


            const texto =`

            ua0123 11sep * salDCA 2021 2159

            f90123 21OCT dcaJfK 2359 0159,
            $b60123 16dec ewrden 0621 0739 //dl0078 31dec densjc 0000 1200 

            %y40123 22jan densaL 0001 0202 %3m0123 22jan dalmco 0011 0242

            `

            function flight(text)
            {

                //let nbrs = /[0-9a-zA-Z][0-9a-zA-Z]\d+/g
                
                let nbrs = /[0-9a-zA-Z][0-9a-zA-Z][0-9][0-9][0-9][0-9]/g
                let dates =/[0-9][0-9][a-zA-Z][a-zA-Z][a-zA-Z]/g
                let routes = /[a-zA-Z][a-zA-Z][a-zA-Z][a-zA-Z][a-zA-Z][a-zA-Z]/g
                let scheds = /[0-2][0-9][0-5][0-9][ ][0-2][0-9][0-5][0-9]/g


                let allnbrs = text.match(nbrs)
                let alldates = text.match(dates)
                let allroutes = text.match(routes)
                let allscheds = text.match(scheds)


                console.log(allnbrs)
                console.log(alldates)
                console.log(allroutes)
                console.log(allscheds)

                let output = ""

                for (let i=0; i<allnbrs.length; i++)
                {
                    output += `\u{02708}${allnbrs[i].toUpperCase()} ${alldates[i].toUpperCase()} ${allroutes[i].toUpperCase()} ${translate(allscheds[i].slice(0,4))} ${translate(allscheds[i].slice(5))}\n`

                }
                return output
            }



            // *** main ***
            const input_ = document.getElementById('formattingFlight')
            const closing_ = document.getElementById('closeSidePanel')

            closing_.addEventListener('click', (e)=>
            {
                input_.value = ""

            }
            )


            document.getElementById('formatFlight').addEventListener( 'click', (e)=>
                {
                    try
                    {
                        input_.value = flight(input_.value)
                    }
                    catch (error)
                    {
                        console.log(error);
                    }
                }
            )


        </script>
    </div>


    <div id="Click2CopyVerbiages">

        <style>

            #Click2CopyVerbiages{
                position: fixed;
                bottom:20%;
                display: grid;
                column-width: 30px;
                background-color: rgb(127, 236, 255);
                width: 1px;
            }

            .verbiageBtn{
                width: 7rem;
                color: white;
                background-color: rgb(240, 111, 99);
                border-width: 0.5em;
                border-color: rgb(205, 101, 27);
            }

            .verbiageBtn:hover{
                background-color: yellow;
                color: black;
            }

            @keyframes copied {
                0% {border-color:white; background-color: wheat; color: white;} 
                50% {border-color: rgb(89, 228, 119); background-color: greenyellow; color: black;}                
            }

        </style>
   
        <div id="greet" >

                <button id="greetings" class="verbiageBtn"><strong>Greetings!</strong></button>

                <script>
                    
                    let greetings = document.getElementById('greetings')
                    
                    greetings.addEventListener('click', ()=> 
                    {
                        const greet1 = [
                            `Hi there!`,
                            `Hello there!`
                        ]
                        const g1 = Math.floor(Math.random()*greet1.length)

                        const greet2 = [
                            `\u{2014}I'll be happy to assist you `,
                            `\u{2014}I'm here to help! `,
                            `\u{2014}I'll be glad to assist you `
                            
                        ]
                        const g2 = Math.floor(Math.random()*greet2.length)


                        let allGreetings = `${greet1[g1]} ${greet2[g2]}(So we stay connected, please keep this chat window open)`

                        navigator.clipboard.writeText(allGreetings)
                    })

                </script>
        </div>

        <div id="yessir">
                 
            <button id="acknowledge" class="verbiageBtn"><strong>Acknowledge!</strong></button>

            <script>

                let acknowledge = document.getElementById('acknowledge')
                
                acknowledge.addEventListener('click', ()=> 
                {
                    const ack1 =
                    [
                        `Roger that!`,
                        `Acknowledged!`,
                        `Understood!`,
                        `Got it!`
                    ]
                    const a1 = Math.floor(Math.random()*ack1.length)

                    const ack2 = 
                    [
                        `\u{2014}I'm further researching into it.`,
                        `\u{2014}I'm further looking into it.`
                    ]
                    const a2 = Math.floor(Math.random()*ack2.length)

                    const ack3 =
                    [
                        `I'll be right back (5min)`,
                        `I'm back in a moment (5min)`,
                        `Brb (5min)`,
                        `I'm back in brief (5min)`,
                        `I'll be back in brief (5min)`
                    ]
                    const a3 = Math.floor(Math.random()*ack3.length)

                    let allacknowledge = `${ack1[a1]} ${ack2[a2]} ${ack3[a3]}`
                    
                    navigator.clipboard.writeText(allacknowledge)
                })

            </script>

        </div>

        <div id="hold">

            <button id="wait" class="verbiageBtn">  <strong>Wait!</strong>  </button>

            <script>
                
                let wait = document.getElementById('wait')
                
                wait.addEventListener('click', ()=> 
                {

                    //put here a list with random bits

                    const wa1 =
                    [
                        `Thanks for your patience!`,
                        `Thanks for waiting!`,
                        `We appreciate your patience!`                    

                    ]
                    const w1 = Math.floor(Math.random()*wa1.length)

                    const wa2 =
                    [
                        `We're still working on it`,
                        `I'm still working on it`
                    ]
                    const w2 = Math.floor(Math.random()*wa2.length)

                    const wa3 =
                    [
                        `Brb (5-8min)`,
                        `I'll be back in brief (5-8min)`, 
                        `I'll be right back (5-8min)`,
                        `I'm back in a moment (5-8min)` 
                    ]
                    const w3 = Math.floor(Math.random()*wa3.length)

                    const wa4 =
                    [
                        `\u{231B}`, //hourglass
                        `\u{1F3C3}`, //running man
                        `\u{1F4A8}`, //dash
                        `\u{23F1}` //Stopwatch
                    ]
                    const w4 = Math.floor(Math.random()*wa4.length)

                    const allwait =
                    [
                    `${wa1[w1]} \u{2014}${wa2[w2]}. ${wa3[w3]} ${wa4[w4]}`,
                    `${wa2[w2]} \u{2014}${wa1[w1]} ${wa3[w3]} ${wa4[w4]}`
                    ]
                    
                    const rand = Math.floor(Math.random()*allwait.length)

                    navigator.clipboard.writeText(allwait[rand])
                })

            </script>

        </div>

        <div id="warn" >

            <button id="warning" class="verbiageBtn"><strong>Warning!</strong></button>

            <script>
                
                let warning = document.getElementById('warning')
                
                warning.addEventListener('click', ()=> 
                {

                    const warn1 = [
                        `I'm still here.`,
                        `I'm here.`,
                        `I'm still with you.`,
                        `Chat is still active.`,
                        `Chat session is still active.`
                    ]
                    const wa1 = Math.floor(Math.random()*warn1.length)

                    const warn2 = [
                        `Just making sure we're still connected.`,
                        `Just checking we're still connected`,
                        `Just ensuring we're still connected.`,
                        `Just double-checking we're still connected.`
                    ]
                    const wa2 = Math.floor(Math.random()*warn2.length)


                    let allwarnings = `${warn1[wa1]} ${warn2[wa2]}`

                    navigator.clipboard.writeText(allwarnings)
                })

            </script>
        </div>

        <div id="farewell" >

            <button id="bye" class="verbiageBtn"><strong>Bye!</strong></button>

            <script>
                
                let bye = document.getElementById('bye')
                
                bye.addEventListener('click', ()=> 
                {

                    const byebye1 = [
                        `Thanks for chatting with us today!`,
                        `Thanks again for chatting with us today!`,
                        `Thanks for chatting with us!`,
                        `Thanks again for chatting with us!`
                        
                    ]
                    const bb1 = Math.floor(Math.random()*byebye1.length)

                    const byebye2 = [
                        `\u{2014}Stay safe!`,
                        `\u{2014}Have a great day!`,
                        `\u{2014}Have a wonderful day!`,
                        `\u{2014}Have a nice day!`
                    ]
                    const bb2 = Math.floor(Math.random()*byebye2.length)

                    const byebye3 = [
                        `\u{1F450}`, //open hands
                        `\u{1F64F}`, //praying
                        `\u{2728}`, //sparkles
                        `\u{1F31E}` //Happy sun
                    ]
                    const bb3 = Math.floor(Math.random()*byebye3.length)


                    const allbyebye = `${byebye1[bb1]} ${byebye2[bb2]} ${byebye3[bb3]}`

                    navigator.clipboard.writeText(allbyebye)
                })

            </script>
        </div>



        <script>
            
            verbiageBtn = document.querySelectorAll('.verbiageBtn')
            
            verbiageBtn.forEach((i)=>{
                                
                i.addEventListener('click', ()=>{
                
                    i.style.animationName = ''
                    i.style.animationDuration = ''


                    setTimeout(function(){
                        if (i.style.animationName == '')
                        {
                            i.style.animationName='copied'
                            i.style.animationDuration='1.2s'
                        }
                    },1)

                })
            })
            
        </script>





    </div>






</body>
</html>